body {
    font-family: 'Comic Sans MS', 'Chalkboard SE', 'Marker Felt', sans-serif;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: linear-gradient(to right, #6dd5ed, #2193b0);
    margin: 0;
    overflow: hidden;
}

h1 { color: white; text-shadow: 2px 2px 4px #000000; font-size: 3em; }

/* --- Setup & Lobby Screens --- */
#setup-screen { text-align: center; background-color: rgba(255, 255, 255, 0.2); padding: 40px; border-radius: 20px; box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37); color: white; }
#name-entry-box, #join-options { display: flex; flex-direction: column; gap: 20px; align-items: center; }
#setup-screen button { padding: 15px 30px; font-size: 1.2em; cursor: pointer; border: none; color: white; border-radius: 10px; transition: background-color 0.3s; }
#player-name-input, #room-id-input { font-size: 1.2em; padding: 14px; border-radius: 10px; border: 2px solid #ddd; text-align: center; }
#submit-name-btn, #continue-to-lobby-btn { background-color: #007aff; }
#create-game-btn, #force-start-game-btn { background-color: #f9a825; }
#join-game-btn { background-color: #4CAF50; }

#instructions-screen { text-align: left; max-width: 400px; }
#instructions-screen h2 { text-align: center; }
#instructions-screen ul { list-style: none; padding: 0; }
#instructions-screen li { background: rgba(0,0,0,0.1); padding: 10px; margin-bottom: 8px; border-radius: 5px; }
#continue-to-lobby-btn { width: 100%; margin-top: 10px; }

#room-info { margin-top: 20px; }
#room-id-display { background: #fff; color: #333; padding: 10px; border-radius: 5px; font-size: 2em; letter-spacing: 5px; font-family: monospace; }
#error-message { color: #ffeb3b; font-weight: bold; height: 20px; margin-top: 10px;}
#player-list { list-style: none; padding: 0; margin-top: 10px; }
#player-list li { background: rgba(0,0,0,0.2); padding: 5px 10px; border-radius: 5px; margin-bottom: 5px; font-weight: bold; }

/* --- Game Screen --- */
.hidden { display: none !important; }
.game-container { display: flex; gap: 40px; align-items: center; }
#game-board { display: grid; grid-template-columns: repeat(10, 50px); grid-template-rows: repeat(10, 50px); width: 500px; height: 500px; border: 5px solid #3a1c0b; background-color: #c8e6c9; position: relative; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.5); }
.square { width: 50px; height: 50px; box-sizing: border-box; border: 1px solid #aaa; display: flex; justify-content: flex-start; align-items: flex-end; font-size: 10px; font-weight: bold; position: relative; padding: 2px; }

/* --- Animated Snakes & Ladders --- */
#snakes-ladders-container { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 1; }
#snakes-ladders-container svg { width: 100%; height: 100%; overflow: visible; }
.snake-path { fill: none; stroke: #d32f2f; stroke-width: 8; stroke-linecap: round; stroke-linejoin: round; stroke-dasharray: 10 15; animation: snake-crawl 1.5s linear infinite; }
@keyframes snake-crawl { to { stroke-dashoffset: -25; } }
.ladder-group .side { stroke: #8d6e63; stroke-width: 5; stroke-linecap: round; }
.ladder-group .rung { stroke: #a1887f; stroke-width: 4; stroke-linecap: round; }

.player { width: 25px; height: 25px; border-radius: 50%; position: absolute; border: 2px solid white; box-shadow: 0 2px 5px rgba(0,0,0,0.4); transition: all 0.6s cubic-bezier(0.68, -0.55, 0.27, 1.55); z-index: 10; }
.controls { text-align: center; background-color: rgba(255, 255, 255, 0.2); padding: 20px; border-radius: 15px; }
#player-turn { font-size: 1.8em; margin-bottom: 20px; font-weight: bold; color: white; text-shadow: 1px 1px 2px #000; }
#winner-message { font-size: 3em; color: #ffeb3b; font-weight: bold; margin-top: 20px; text-align: center; text-shadow: 2px 2px 4px #000; }

/* --- 3D Dice --- */
.dice-container { perspective: 800px; margin-bottom: 20px; }
.dice { width: 60px; height: 60px; position: relative; transform-style: preserve-3d; transition: transform 1.5s cubic-bezier(.5,1.5,.5,1.5); margin: 0 auto; }
.face { position: absolute; width: 100%; height: 100%; background: ivory; border: 2px solid #333; border-radius: 10px; display: grid; padding: 6px; box-sizing: border-box; }
.pip { display: block; width: 12px; height: 12px; border-radius: 50%; background-color: #333; align-self: center; justify-self: center; }

/* Pip arrangements */
.front { grid-template-areas: ". . ." ". a ." ". . ."; } .front .pip:nth-of-type(1) { grid-area: a; }
.back { grid-template-areas: "a . b" "c . d" "e . f"; } .back .pip:nth-of-type(1) { grid-area: a; } .back .pip:nth-of-type(2) { grid-area: b; } .back .pip:nth-of-type(3) { grid-area: c; } .back .pip:nth-of-type(4) { grid-area: d; } .back .pip:nth-of-type(5) { grid-area: e; } .back .pip:nth-of-type(6) { grid-area: f; }
.right { grid-template-areas: "a . b" ". . ." "c . d"; } .right .pip:nth-of-type(1) { grid-area: a; } .right .pip:nth-of-type(2) { grid-area: b; } .right .pip:nth-of-type(3) { grid-area: c; } .right .pip:nth-of-type(4) { grid-area: d; }
.left { grid-template-areas: "a . ." ". b ." ". . c"; } .left .pip:nth-of-type(1) { grid-area: a; } .left .pip:nth-of-type(2) { grid-area: b; } .left .pip:nth-of-type(3) { grid-area: c; }
.top { grid-template-areas: "a . b" ". c ." "d . e"; } .top .pip:nth-of-type(1) { grid-area: a; } .top .pip:nth-of-type(2) { grid-area: b; } .top .pip:nth-of-type(3) { grid-area: c; } .top .pip:nth-of-type(4) { grid-area: d; } .top .pip:nth-of-type(5) { grid-area: e; }
.bottom { grid-template-areas: "a . ." ". . ." ". . b"; } .bottom .pip:nth-of-type(1) { grid-area: a; } .bottom .pip:nth-of-type(2) { grid-area: b; }

/* Face rotations */
.front  { transform: translateZ(30px); } .back   { transform: rotateY(180deg) translateZ(30px); } .right  { transform: rotateY(90deg) translateZ(30px); } .left   { transform: rotateY(-90deg) translateZ(30px); } .top    { transform: rotateX(90deg) translateZ(30px); } .bottom { transform: rotateX(-90deg) translateZ(30px); }

#roll-button { padding: 10px 20px; font-size: 1.2em; cursor: pointer; border: none; background-color: #4CAF50; color: white; border-radius: 5px; transition: background-color 0.3s; }
#roll-button:disabled { background-color: #9E9E9E; cursor: not-allowed; }